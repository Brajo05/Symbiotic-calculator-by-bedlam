<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symbiotic APR Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4 sm:p-8">
    <div class="max-w-5xl mx-auto">
        <div class="bg-white rounded-2xl shadow-2xl overflow-hidden">
            <!-- Header -->
            <div class="bg-gradient-to-r from-blue-600 to-indigo-600 p-6 sm:p-8">
                <div class="flex items-center gap-3 mb-2">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                    </svg>
                    <h1 class="text-3xl font-bold text-white">Symbiotic APR Calculator</h1>
                </div>
                <p class="text-blue-100">Calculate your restaking rewards and compound interest</p>
            </div>

            <div class="p-6 sm:p-8">
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Input Section -->
                    <div class="space-y-6">
                        <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                            <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Staking Parameters
                        </h2>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Staked Amount ($)</label>
                            <input type="number" id="stakedAmount" value="10000" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Base Vault APR (%)</label>
                            <input type="number" step="0.1" id="rewardRate" value="3.36" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Typical range: 2-5%</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Network-Specific APR (%)</label>
                            <input type="number" step="0.1" id="networkRewards" value="0" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Each network sets its own reward rate</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Additional Points/Rewards APR (%)</label>
                            <input type="number" step="0.1" id="additionalRewards" value="0" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Partner rewards, LP tokens, etc.</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Compound Frequency</label>
                            <select id="compoundFrequency" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                                <option value="365">Daily</option>
                                <option value="52">Weekly</option>
                                <option value="12">Monthly</option>
                                <option value="4">Quarterly</option>
                                <option value="1">Yearly</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Staking Period (days)</label>
                            <input type="number" id="stakingPeriod" value="365" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="space-y-6">
                        <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                            Projected Returns
                        </h2>

                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-gray-600">Simple APR</span>
                            </div>
                            <p class="text-3xl font-bold text-green-700" id="simpleAPR">3.36%</p>
                        </div>

                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-gray-600">Compounded APY</span>
                            </div>
                            <p class="text-3xl font-bold text-indigo-700" id="compoundedAPY">3.42%</p>
                            <p class="text-xs text-gray-500 mt-1" id="compoundText">With daily compounding</p>
                        </div>

                        <div class="space-y-3">
                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Daily Rewards</span>
                                    <span class="text-lg font-semibold text-gray-800" id="dailyRewards">$0.92</span>
                                </div>
                            </div>

                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Monthly Rewards</span>
                                    <span class="text-lg font-semibold text-gray-800" id="monthlyRewards">$27.60</span>
                                </div>
                            </div>

                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Yearly Rewards</span>
                                    <span class="text-lg font-semibold text-gray-800" id="yearlyRewards">$336.00</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200">
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-medium text-gray-600">Total Value After Period</span>
                                    <span class="text-2xl font-bold text-purple-700" id="totalValue">$10,341.74</span>
                                </div>
                                <div class="flex justify-between items-center pt-2 border-t border-purple-200">
                                    <span class="text-sm font-medium text-gray-600">Total Rewards Earned</span>
                                    <span class="text-xl font-bold text-green-600" id="totalRewards">+$341.74</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info Section -->
                <div class="mt-8 bg-blue-50 rounded-lg p-4 border border-blue-200">
                    <div class="flex gap-2">
                        <svg class="w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div class="text-sm text-gray-700">
                            <p class="font-semibold text-blue-900 mb-1">About Symbiotic Restaking:</p>
                            <p class="mb-2"><strong>Vaults</strong> handle delegation, accounting, and reward distribution. Each vault may have different APRs.</p>
                            <p class="mb-2"><strong>Networks</strong> set their own reward rates and penalty rules. Rates vary by network and service.</p>
                            <p class="mb-2"><strong>APR vs APY:</strong> APR is simple interest, APY includes compounding effects when rewards are restaked.</p>
                            <p class="mt-3 text-xs text-gray-600 bg-yellow-50 p-2 rounded border border-yellow-200">
                                ⚠️ <strong>Important:</strong> Reward rates on Symbiotic fluctuate with protocol operations and validator performance. These calculations are estimates. Actual returns depend on network conditions, operator performance, and slashing events. Always verify current rates on the Symbiotic dashboard.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const compoundFrequencyText = {
            '365': 'daily',
            '52': 'weekly',
            '12': 'monthly',
            '4': 'quarterly',
            '1': 'yearly'
        };

        function calculateReturns() {
            const principal = parseFloat(document.getElementById('stakedAmount').value) || 0;
            const baseRate = parseFloat(document.getElementById('rewardRate').value) || 0;
            const bonusRate = parseFloat(document.getElementById('additionalRewards').value) || 0;
            const netRate = parseFloat(document.getElementById('networkRewards').value) || 0;
            const totalAPR = baseRate + bonusRate + netRate;
            const days = parseFloat(document.getElementById('stakingPeriod').value) || 365;
            const n = parseFloat(document.getElementById('compoundFrequency').value);

            // Simple APR
            const simpleAPR = totalAPR;

            // Compound APY
            const compoundedAPY = (Math.pow(1 + (totalAPR / 100) / n, n) - 1) * 100;

            // Daily rewards
            const dailyRewards = (principal * (totalAPR / 100)) / 365;

            // Monthly rewards
            const monthlyRewards = dailyRewards * 30;

            // Yearly rewards
            const yearlyRewards = principal * (totalAPR / 100);

            // Total value after period
            const periodsInStakingPeriod = (days / 365) * n;
            const totalValue = principal * Math.pow(1 + (totalAPR / 100) / n, periodsInStakingPeriod);
            const totalRewards = totalValue - principal;

            // Update UI
            document.getElementById('simpleAPR').textContent = simpleAPR.toFixed(2) + '%';
            document.getElementById('compoundedAPY').textContent = compoundedAPY.toFixed(2) + '%';
            document.getElementById('dailyRewards').textContent = '$' + dailyRewards.toFixed(2);
            document.getElementById('monthlyRewards').textContent = '$' + monthlyRewards.toFixed(2);
            document.getElementById('yearlyRewards').textContent = '$' + yearlyRewards.toFixed(2);
            document.getElementById('totalValue').textContent = '$' + totalValue.toFixed(2);
            document.getElementById('totalRewards').textContent = '+$' + totalRewards.toFixed(2);
            document.getElementById('compoundText').textContent = 'With ' + compoundFrequencyText[n] + ' compounding';
        }

        // Add event listeners
        document.getElementById('stakedAmount').addEventListener('input', calculateReturns);
        document.getElementById('rewardRate').addEventListener('input', calculateReturns);
        document.getElementById('networkRewards').addEventListener('input', calculateReturns);
        document.getElementById('additionalRewards').addEventListener('input', calculateReturns);
        document.getElementById('compoundFrequency').addEventListener('change', calculateReturns);
        document.getElementById('stakingPeriod').addEventListener('input', calculateReturns);

        // Initial calculation
        calculateReturns();
    </script>
</body>
</html>